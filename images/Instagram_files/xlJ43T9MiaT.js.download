;/*FB_PKG_DELIM*/

__d("PolarisStoriesHighlightsRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisStoriesHighlightsRoot.react").__setRef("PolarisStoriesHighlightsRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisStoriesHighlightsRoot.react",["DateConsts","PolarisConfig","PolarisLinkBuilder","PolarisLoggedOutLoginConstants","PolarisReactRedux","PolarisStoriesComponent.react","PolarisStoryActions","polarisUserSelectors","promiseDone","react","shouldDisplayLoggedOutHighlights"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b;a=a.props;var e=a.routeParams.highlight_reel_id;a=a.routeProps;var f=a.latest_reel_updated,g=a.show_qr_modal,h=a.user,l=d("PolarisReactRedux").useDispatch();a=k(!1);var m=a[0],n=a[1];a=d("PolarisConfig").isLoggedIn();b=(b=d("polarisUserSelectors").useUser(h.id))==null?void 0:(b=b.counts)==null?void 0:b.followedBy;var o=f!=null&&Math.floor((d("DateConsts").getCurrentTimeInSeconds()-f)/d("DateConsts").SEC_PER_DAY)>d("PolarisLoggedOutLoginConstants").DAYS_HIGHLIGHT_STORIES_ACTIVE&&c("shouldDisplayLoggedOutHighlights")(b);if(!a&&e!=null&&!o){f=d("PolarisLinkBuilder").buildHighlightStoryLink(e);l(d("PolarisStoryActions").initStoryAuth(f))}j(function(){m||c("promiseDone")(l(d("PolarisStoryActions").initStoryPage({highlightReelId:e,isLoggedOutHighlightViewer:o,owner:h})).then(function(){n(!0)}))},[l,e,m,o,h]);return i.jsx(c("PolarisStoriesComponent.react"),{initializing:m===!1,isLoggedOutHighlightViewer:o,showQRModal:g,username:h.username,viewerIsLoggedIn:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);