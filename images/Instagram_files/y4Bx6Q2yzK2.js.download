;/*FB_PKG_DELIM*/

__d("PolarisEmbedModal.react",["fbt","invariant","IGDSBox.react","IGDSButton.react","IGDSDialog.react","IGDSSpinner.react","IGDSText.react","PolarisClipboard","PolarisFastLink.react","PolarisInstapi","PolarisLogger","PolarisUA","err","polarisGetPostFromGraphMediaInterface","promiseDone","react","usePrevious"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useEffect,n=b.useRef,o=b.useState,p=h._("__JHASH__Wf1jT7MjyMo__JHASH__"),q=h._("__JHASH__J1tz65uH2gx__JHASH__"),r=h._("__JHASH__mVZ3o5LGyrj__JHASH__");function a(a){var b=a.analyticsContext,e=a.code,f=a.id,g=a.onClose,j=a.ownerId,s=a.productType,t=a.username;a=o({});var u=a[0],v=a[1];a=o(null);var w=a[0],x=a[1];a=o(!1);var y=a[0],z=a[1];a=o("");var A=a[0],B=a[1];a=o(!1);var C=a[0],D=a[1];a=o(s!=="guide"&&s!=="profile");var E=a[0],F=a[1];a=o(!1);var G=a[0],H=a[1];a=o(!1);var I=a[0],J=a[1];a=o(!1);var K=a[0],L=a[1],M=n(null),N=c("usePrevious")({code:e,includeCaption:E}),O=l(function(){var a;if(s==="profile"&&t!=null)a=t;else if(s==="guide"&&f!=null)a="guide/"+f;else if(e!=null)a=(d("polarisGetPostFromGraphMediaInterface").isClipsProductType(s)?"reel/":"p/")+e;else throw c("err")("EmbedModal missing username, guide ID or shortcode.");return{hidecaption:E?"0":"1",maxwidth:"540",url:"https://www.instagram.com/"+a}},[e,f,E,s,t]),P=l(function(){var a,b=O(),e=(a=JSON.stringify(b))!=null?a:"";a=u[e];a!==void 0?B(a):(D(!0),c("promiseDone")(d("PolarisInstapi").apiGet("/api/v1/oembed/",{query:b}).then(function(a){a=a.data.html;var b=babelHelpers["extends"]({},u);b[e]=a;v(b);B(a);D(!1)})))},[u,O]);m(function(){P()},[P]);m(function(){return function(){window.clearTimeout(w)}},[w]);m(function(){(N==null||N.includeCaption!==E||N.code!==e)&&P()},[e,P,E,N]);a=function(){if(d("PolarisClipboard").canCopy()||d("PolarisUA").isMobile())return null;else if(navigator.userAgent.indexOf("Macintosh")||navigator.userAgent.indexOf("Mac OS"))return h._("__JHASH__h_7byOp75rf__JHASH__");return h._("__JHASH__8_SwgeSpG1n__JHASH__")};var Q=function(){return d("PolarisClipboard").canCopy()&&!y},R=function(){M.current||i(0,51626);(M.current.selectionStart!==0||M.current.selectionEnd<M.current.value.length)&&M.current.setSelectionRange(0,M.current.value.length,"forward");if(document.activeElement!==M.current){var a;(a=M.current)==null?void 0:a.focus()}},S=function(){var a={mediaId:f,ownerId:j,source:b,type:s==="guide"?"guide":"feed"},c=d("PolarisClipboard").copy(A);c?(d("PolarisLogger").logAction("embedCodeCopy",a),H(!0),x(window.setTimeout(function(){H(!1),x(null)},3e3))):(d("PolarisLogger").logAction("embedCodeFailToCopy",a),R(),z(!0))},T=function(){J(!1)},U=function(){J(!0),R()},V=function(a){a=a.target;a instanceof HTMLTextAreaElement||i(0,51626);L(a.selectionStart===0&&a.selectionEnd>=a.value.length)},W=function(){R()},X=function(a){F(!!a.target.checked)},Y=C?"":A,Z=h._("__JHASH__cPBACuhYn55__JHASH__");S=Q()?S:W;W="";a=a();Q()?G?W=q:W=p:K&&I&&a!=null&&a!==""?W=a:W=r;return k.jsx(c("IGDSDialog.react"),{onClose:g,children:k.jsxs(c("IGDSBox.react"),{padding:4,position:"relative",children:[k.jsx("textarea",{className:"xvbhtw8 x1619dve x19gtwsn x1nk0tez x1xp9za0 x1hm1hlx x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x5n08af x1i0vuye x1f6kntn xqemwdq xdj266r x11i5rnm xwoyzhm x1mh8g0r xu97haq xtt52l0 xuxw1ft",dir:"ltr",disabled:C,onBlur:T,onFocus:U,onSelect:V,readOnly:!0,ref:M,value:Y}),["guide","profile"].includes(s)||k.jsxs("label",{className:"x972fbf xcfux6l x1qhh985 xm0m39n xk390pu xdj266r x11i5rnm xwoyzhm x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf",htmlFor:f!=null?f:void 0,children:[k.jsx("input",{checked:E,className:"x1t4t16n x1mh8g0r",id:f!=null?f:void 0,onChange:X,type:"checkbox"}),h._("__JHASH__Yr1eos4HFri__JHASH__"),C&&k.jsx("div",{className:"x1rg5ohu xdj266r x1t4t16n xat24cr x8j4wrb x1uhb9sk xxymvpz",children:k.jsx(c("IGDSSpinner.react"),{size:"small"})})]}),k.jsx(c("IGDSBox.react"),{marginBottom:2,position:"relative",children:k.jsx(c("IGDSButton.react"),{display:"block",isDisabled:C,label:W,onClick:S})}),k.jsx(c("IGDSText.react").Body2,{color:"secondaryText",children:h._("__JHASH__ZSL9jbnCKXm__JHASH__",[h._param("apiTermsOfUseLink",k.jsx(c("PolarisFastLink.react"),{href:"/about/legal/terms/api/",target:"_blank",children:Z}))])})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisShowMorePostsPill.react",["fbt","IGDSBox.react","IGDSText.react","PolarisLogger","PolarisPill.react","PolarisSEOEventsLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState;function m(a){return h._("__JHASH__JLnpkW91p3v__JHASH__",[h._param("username",a)])}function a(a){var b=a.analyticsContext,e=a.onClick;a=a.username;var f=l(!0),g=f[0],h=f[1];k(function(){g===!0&&(h(!1),d("PolarisLogger").logAction("showMorePostsImpression",{source:b}),d("PolarisSEOEventsLogger").logSEOEvent({containermodule:b,eventName:"showMorePostsImpression"}))},[g,b]);f=function(){d("PolarisLogger").logAction("showMorePostsClick",{source:b}),d("PolarisSEOEventsLogger").logSEOEvent({containermodule:b,eventName:"showMorePostsClick"}),e()};return j.jsx(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,position:"relative",children:j.jsx(c("PolarisPill.react"),{animated:!1,color:"ig-primary-button",dangerouslySetClassName:{__className:"x6s0dn4 x1iorvi4 xn6708d xs9asl8 x1ye3gou x10l6tqk xubyhnz xkrlcpk xsms3ob"},onClick:f,zPosition:"normal",children:j.jsx(c("IGDSText.react").BodyEmphasized,{color:"webAlwaysWhite",textAlign:"center",children:m(a)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisProfileLoggedOutUtils",["PolarisConfig","PolarisNavigationActions","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g){g===void 0&&(g=null);var h=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(h,b,c,e,f,g))}g.onLoggedOutIntentClickLoginModal=a}),98);
__d("PolarisProfileTabPosts.react",["fbt","IGDSBox.react","IGDSSpinner.react","InstagramSEOCrawlBot","PolarisConfig","PolarisConnectionsLogger","PolarisFollowChainingList.react","PolarisLinkBuilder","PolarisLogger","PolarisMediaBrowserConstants","PolarisProfileLoggedOutUtils","PolarisProfileMediaBrowser.react","PolarisProfilePostsActionConstants","PolarisProfilePostsActions","PolarisProfileQEHelpers","PolarisReactRedux","PolarisShowMorePostsPill.react","PolarisUserActionDismissRelatedProfileSuggestion","PolarisViewpointReact.react","nullthrows","polarisRelatedProfileSelectors","polarisRelationshipSelectors","qex","react","usePolarisSelector"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n=h._("__JHASH__BJZfDfYV3ny__JHASH__"),o=99,p=10;e=4;var q=e*d("PolarisMediaBrowserConstants").POSTS_PER_ROW;function a(a){var b,e=m(!1),f=e[0],g=e[1];e=m(0);var h=e[0],i=e[1];e=a.analyticsContext;var r=a.isFetching,s=a.isOldestPostLoaded,t=a.isRegulatedEntity,u=a.isSmallScreen,v=a.maxPostsToDisplay,w=a.mediaLinkBuilder,x=a.onPostImpression,y=a.photoComponentRenderer,z=a.posts,A=a.user,B=a.viewportWidth,C=d("polarisRelatedProfileSelectors").useRelatedProfileSuggestions(A.id),D=d("PolarisProfileQEHelpers").allowAdditionalScrollingforLOUser()?z.length<q*2+1:z.length>=q,E=Boolean(C&&C.length&&D);D=m(!0);var F=D[0],G=D[1];l(function(){g(E)},[E]);var H=E&&!d("PolarisConfig").isLoggedOutFRXEligible()&&c("InstagramSEOCrawlBot").is_allowlisted_crawl_bot,I=d("PolarisReactRedux").useDispatch();D=function(a,b,c,e,f){d("PolarisProfileLoggedOutUtils").onLoggedOutIntentClickLoginModal(I,a,b,c,e,f)};var J=function(a){return I(d("PolarisConfig").isLoggedIn()?d("PolarisProfilePostsActions").requestProfilePostsV2(a,void 0,d("PolarisProfilePostsActionConstants").PAGE_SIZE):d("PolarisProfilePostsActions").requestProfilePosts(a))},K=k(function(a){return I(d("PolarisConfig").isLoggedIn()?d("PolarisProfilePostsActions").requestProfilePostsV2(a,void 0,d("PolarisProfilePostsActionConstants").PAGE_SIZE):d("PolarisProfilePostsActions").requestNextProfilePosts(a))},[I]);l(function(){H&&!r&&!s&&f&&h<p&&z.length<o&&(i(h+1),K(A.id))},[h,r,s,z.length,K,A.id,f,H]);var L=function(b){I(d("PolarisUserActionDismissRelatedProfileSuggestion").dismissRelatedProfileSuggestion(a.user.id,b))},M=function(){g(!1),K(A.id)};b=(b=(b=A.counts)==null?void 0:b.media)!=null?b:0;b=z.length===0&&b>0;t=c("qex")._("1877")===!0||t;var N=!d("PolarisConfig").isLoggedIn()&&c("qex")._("326")===!0,O=function(a){a.state==="entered"&&(F&&(G(!1),d("PolarisLogger").logAction("relatedProfileModule",{source:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.profile,target:"impressionLogging"})))},P=c("usePolarisSelector")(function(a){a=d("polarisRelationshipSelectors").getRelationship(a.relationships,A.id);return d("polarisRelationshipSelectors").isBlockedByViewer(a)});return j.jsxs(j.Fragment,{children:[!t&&b&&!P?j.jsx(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,direction:"row",display:"flex",justifyContent:"center",marginTop:10,children:j.jsx(c("IGDSSpinner.react"),{})}):j.jsx(c("PolarisProfileMediaBrowser.react"),{className:"x1iyjqo2",isFetching:r,isOldestPostLoaded:s,isPostNumLimited:!!f,maxPostsToDisplay:v,mediaLinkBuilder:w,onIntentClick:D,onPostImpression:x,onRequestFirst:J,onRequestNext:K,photoComponentRenderer:y,posts:f?z.slice(0,q):z,user:A,viewportWidth:B},"userMedia"),f&&j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisShowMorePostsPill.react"),{analyticsContext:e,onClick:M,username:c("nullthrows")(A.username)}),j.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:O,id:A.id,children:function(b){return j.jsx("div",{ref:b,children:j.jsx(c("PolarisFollowChainingList.react"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.profile,chainingFailed:!1,chainingSuggestions:C==null?void 0:C.map(function(a){var b=a.fullName,c=a.id,d=a.isVerified,e=a.profilePictureUrl,f=a.suggestionDescription;a=a.username;return{fullName:b,id:c,isVerified:d,profilePictureUrl:e,suggestionDescription:f,username:a}}),className:"x1xyqytf xtuw4uo xeud2gj x18oi6gw x13ehr01 x1arihgo",clickPoint:"related_profiles_unit",impressionModule:d("PolarisConnectionsLogger").VIEW_MODULES.web_related_profiles,isSmallScreen:u,onSeeAllClicked:a.onOpenRelatedProfilesModal,onSuggestionDismissed:L,overscan:C==null?void 0:C.length,seeAllHref:d("PolarisLinkBuilder").buildUserRelatedProfilesLink(c("nullthrows")(A.username)),title:n,useAlternateViewProfileButton:N})})}},A.id)]}),f&&H&&j.jsx(c("PolarisProfileMediaBrowser.react"),{className:"x1s85apg",hidePhotoComponentRenderer:!1,isFetching:!1,isOldestPostLoaded:!0,isPostNumLimited:!0,maxPostsToDisplay:v,mediaLinkBuilder:w,onPostImpression:function(){},onRequestFirst:function(){},onRequestNext:function(){},overscanRowsCount:Math.ceil((z.length-q)/d("PolarisMediaBrowserConstants").POSTS_PER_ROW),photoComponentRenderer:y,posts:z.slice(q,z.length),user:A,viewportWidth:B},"extraUserMedia")]})}a.displayName=a.name+" [from "+f.id+"]";g.RELATED_PROFILES_HEADER=n;g.ProfileTabPosts=a}),98);